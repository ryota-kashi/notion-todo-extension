# Notion TODO Manager

[![Version](https://img.shields.io/badge/version-3.0.3-blue.svg)](https://github.com/ryota-kashiwagi/notion-todo-extension)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**NotionのTODOデータベースを、Chromeのサイドパネルでスマートに管理。**  
他の作業をしながら、パパッとタスクの確認・完了・編集が可能です。

---

## ✨ 主な機能

- 📌 **サイドパネル常駐**: ブラウザの横に固定して、いつでもタスクにアクセス。
- ✅ **クイック完了**: クリック一つでNotionのステータス/チェックボックスを更新。
- 📅 **スマート期日設定**: 本日の日付がデフォルトで入るカレンダー入力。
- 🗓 **Googleカレンダー連携**: タスク詳細を含んだイベント登録画面をワンクリックで起動。
- 🔍 **柔軟なフィルタリング**: 指定したタグや担当者、ステータスでタスクを自動絞り込み。
- 🎨 **モダンなUI**: ダークモード対応の使い心地を追求したデザイン。

---

## 🛠 セットアップガイド

初めて利用する方は、以下のステップに従って設定を行ってください。

### STEP 1: 拡張機能のインストール

1. ChromeのURLバーに `chrome://extensions/` を入力して開きます。
2. 右上の **「デベロッパーモード」** をONにします。
3. **「パッケージ化されていない拡張機能を読み込む」** をクリックします。
4. 本プロジェクトの **`src` フォルダ** を選択して読み込みます。

### STEP 2: Notion APIキー（内部インテグレーション・トークン）の取得

1. [Notion Integrations](https://www.notion.so/my-integrations) にアクセスします。
2. **「新しいインテグレーション」** を作成します。
   - 名前: 任意の名前（例: TODO Manager）
   - タイプ: 内部
3. 作成後、表示される **「シークレット（内部インテグレーション・トークン）」** をコピーしてメモしておきます。

### STEP 3: データベースの接続とIDの取得

1. 使用したいNotionデータベースをブラウザで開きます。
2. 画面右上の **「...」メニュー** → **「コネクトを追加」** をクリックします。
3. 先ほど作成したインテグレーションを検索して追加します。
4. ブラウザのURLから **データベースID** を取得します。
   - 例: `https://www.notion.so/my-workspace/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa?v=...`
   - ドメイン後の `aaaaaaaa...`（32文字の英数字）がIDです。

### STEP 4: 拡張機能の設定

1. Chromeのサイドパネル、またはアイコンから「Notion TODO Manager」を開きます。
2. ヘッダーの ⚙️（設定ギア）アイコンをクリックします。
3. **APIキー** を入力して保存します。
4. **データベース** セクションで「データベースを追加」をクリックし、適当な名前と先ほどのデータベースIDを入力します。
5. 設定完了後、サイドパネルに戻るとタスクが表示されます！

---

## 💡 便利な使いかた

- **タイトル直接編集**: 一覧のタスク名を直接クリックして編集し、Enterで保存できます。
- **カレンダー連携**: タスクの右側にあるカレンダーアイコンを押すと、NotionのURLが説明欄に入った状態でGoogleカレンダーが開きます。
- **複数DB切り替え**: プライベート用と仕事用など、複数のDBを登録してプルダウンで瞬時に切り替えられます。

---

## ❓ トラブルシューティング

### Q. 「設定を完了してください」と表示される

- APIキーが正しく入力されているか、データベースが正しく登録されているか確認してください。

### Q. タスクが表示されない / IDが間違っていると言われる

- Notion側のデータベース設定で、**コネクト（インテグレーション）が正しく追加されているか**再確認してください。これを忘れると権限エラーになります。

### Q. ロールアップやリレーションが空になる

- ロールアップが参照している **「相手側のデータベース」** にも同じインテグレーションをコネクトとして追加してください。

---

## 📜 ライセンス

[MIT License](LICENSE)

---

_Created with ❤️ using Google Antigravity_
